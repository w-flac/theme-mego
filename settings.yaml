apiVersion: v1alpha1
kind: Setting
metadata:
  name: theme-mego-setting
spec:
  forms:
    - group: index_info
      label: 一般设置
      formSchema:
        - $formkit: checkbox
          name: info_enabled
          id: info_enabled
          key: info_enabled
          label: 启用站点信息
          value: true
        - $formkit: group
          name: info_site
          if: $get(info_enabled).value === true
          id: info_site
          key: info_site
          label: 站点信息
          children:
            - $formkit: select
              name: site_enabled
              id: site_enabled
              key: site_enabled
              value: "default"
              label: 类型
              options:
                - label: 默认
                  value: "default"
                - label: 自定义
                  value: "custom"
        - $formkit: group
          name: default
          label: 默认
          if: $get(site_enabled).value === 'default'
          children:
            - $formkit: text
              name: title
              id: title
              key: title
              label: 站点标题
            - $formkit: text
              name: description
              id: description
              key: description
              label: 站点副标题
            - $formkit: attachment
              accepts:
                - 'image/*'
              name: logo
              id: logo
              key: logo
              label: Logo
        - $formkit: group
          name: custom
          id: custom
          key: custom
          label: 自定义
          help: 此模式默认仅显示logo信息
          if: $get(site_enabled).value === 'custom'
          children:
            - $formkit: attachment
              accepts:
                - 'image/*'
              name: custom_logo
              id: custom_logo
              key: custom_logo
              label: Logo
              value: ''
        - $formkit: group
          name: info_setting
          id: info_setting
          key: info_setting
          label: 聚合设置
          children:
            - $formkit: checkbox
              name: s_enabled
              id: s_enabled
              key: s_enabled
              label: 显示搜索栏
              value: ''
              help: 自定义菜单SVG用户选项
            - $formkit: checkbox
              name: c_enabled
              id: c_enabled
              key: c_enabled
              label: 分类图标颜色渲染
              value: ''
              help: 开启后 /categories 页面下图标颜色将生效
    - group: index_hero
      label: Hero模块
      formSchema:
        - $formkit: checkbox
          name: hero_enabled
          id: hero_enabled
          key: hero_enabled
          label: 启用Hero模块
          placeholder: 请确认选择
          value: true
        - $formkit: group
          name: hero_title
          if: $get(hero_enabled).value === true
          id: hero_title
          key: hero_title
          label: Hero标题
          children:
            - $formkit: text
              name: label
              id: label
              key: label
              label: 标签
            - $formkit: text
              name: title
              id: title
              key: title
              label: 标题
            - $formkit: text
              name: description
              id: description
              key: description
              label: 描述
              height: 200px
            - $formkit: checkbox
              name: enabled
              id: enabled
              key: enabled
              label: 启用副标题
              value: false
            - $formkit: select
              name: subtitle_enabled
              id: subtitle_enabled
              key: subtitle_enabled
              if: "$value.enabled === true"
              label: 副标题类型
              value: "short"
              options:
                  - label: 长文本
                    value: "long"
                  - label: 短文本
                    value: "short"
            - $formkit: text
              name: subtitle
              id: subtitle
              key: subtitle
              if: "$value.enabled === true"
              label: 副标题
        - $formkit: group
          name: hero_image
          if: $get(hero_enabled).value === true
          id: hero_image
          key: hero_image
          label: Hero背景
          children:
            - $formkit: attachment
              name: image
              id: image
              key: image
        - $formkit: group
          name: hero_urls
          if: $get(hero_enabled).value === true
          id: hero_urls
          key: hero_urls
          label: Hero链接
          children:
            - $formkit: checkbox
              name: hero_urls_enabled
              id: hero_urls_enabled
              key: hero_urls_enabled
              label: 启用链接模块
              value: false
            - $formkit: group
              name: hero_urls_items
              id: hero_urls_items
              key: hero_urls_items
              if: $value.hero_urls_enabled === true
              children:
                - $formkit: text
                  name: title1
                  id: title1
                  key: title1
                  label: 标题1
                - $formkit: text
                  name: url1
                  id: url1
                  key: url1
                  label: 链接1
                - $formkit: text
                  name: title2
                  id: title2
                  key: title2
                  label: 标题2
                - $formkit: text
                  name: url2
                  id: url2
                  key: url2
                  label: 链接2
        - $formkit: group
          name: hero_signs
          if: $get(hero_enabled).value === true
          id: hero_signs
          key: hero_signs
          label: Hero标志
          children:
            - $formkit: checkbox
              name: hero_signs_enabled
              id: hero_signs_enabled
              key: hero_signs_enabled
              label: 启用标识模块
              value: false
            - $formkit: group
              name: hero_signs_items
              id: hero_signs_items
              key: hero_signs_items
              if: "$value.hero_signs_enabled === true"
              children:
                - $formkit: repeater
                  name: hero_signs_items
                  id: hero_signs_items
                  key: hero_signs_items
                  label: Hero标识列表
                  value: []
                  max: 3
                  min: 1
                  itemLabel: "标识"
                  children:
                    - $formkit: text
                      name: text
                      id: text
                      key: text
                      label: 标识内容
    - group: index_intro
      label: 站点模块
      formSchema:
        - $formkit: group
          name: intro
          id: intro
          key: intro
          label: 站点简介
          children:
            - $formkit: checkbox
              name: intro_enabled
              id: intro_enabled
              key: intro_enabled
              label: 启用简介模块
              value: false
            - $formkit: group
              name: content_items
              id: content_items
              key: content_items
              if: "$value.intro_enabled === true"
              children:
                - $formkit: text
                  name: title
                  id: title
                  key: title
                  label: 标题
                - $formkit: text
                  name: subtitle
                  id: subtitle
                  key: subtitle
                  label: 简介
        - $formkit: group
          name: website
          id: website
          key: website
          label: 站点统计
          children:
            - $formkit: checkbox
              name: website_enabled
              id: website_enabled
              key: website_enabled
              label: 启用站点统计
              value: false
            - $formkit: repeater
              name: type
              id: type
              key: type
              if: "$value.website_enabled === true"
              label: 数据定义
              value: []
              max: 4
              children:
                - $formkit: select
                  name: type_items
                  id: type_items
                  key: type_items
                  label: 类型
                  placeholder: 请确认选择
                  options:
                    - label: 访问数量
                      value: "visit"
                    - label: 点赞数量
                      value: "upvote"
                    - label: 评论数量
                      value: "comment"
                    - label: 文章数量
                      value: "post"
                    - label: 分类数量
                      value: "category"
                    - label: 数字
                      value: "commas"
                    - label: 百分比
                      value: "percentage"
                - $formkit: text
                  name: num
                  id: num
                  key: num
                  if: "$value.type_items === 'commas'"
                  label: 数值
                - $formkit: text
                  name: subtitle
                  id: subtitle
                  key: subtitle
                  if: "$value.type_items === 'commas'"
                  label: 文字
                - $formkit: text
                  name: num
                  id: num
                  key: num
                  if: "$value.type_items === 'percentage'"
                  label: 数值
                - $formkit: text
                  name: subtitle
                  id: subtitle
                  key: subtitle
                  if: "$value.type_items === 'percentage'"
                  label: 文字
    - group: index_blog
      label: 博客模块
      formSchema:
        - $formkit: group
          name: blog
          id: blog
          key: blog
          label: 博客模块
          children:
            - $formkit: text
              name: blog_title
              id: blog_title
              key: blog_title
              label: 标题
            - $formkit: text
              name: blog_subtitle
              id: blog_subtitle
              key: blog_subtitle
              label: 副标题
            - $formkit: select
              name: blog_enabled
              id: blog_enabled
              key: blog_enabled
              label: 博客布局样式
              value: "two"
              options:
                - label: 单栏布局
                  value: "one"
                - label: 双栏布局
                  value: "two"
    - group: index_other
      label: 其它模块
      formSchema:
        - $formkit: group
          name: category
          id: category
          key: category
          label: 分类模块
          children:
            - $formkit: checkbox
              name: category_enabled
              id: category_enabled
              key: category_enabled
              label: 启用分类模块
              value: false
            - $formkit: group
              name: category_items
              id: category_items
              key: category_items
              if: "$value.category_enabled === true"
              label: 分类模块设置
              children:
                - $formkit: text
                  name: category_title
                  label: 标题
                - $formkit: text
                  name: category_subtitle
                  id: category_subtitle
                  key: category_subtitle
                  label: 副标题
                - $formkit: categorySelect
                  name: category_list
                  id: category_list
                  key: category_list
                  multiple: true
                  sortable: true
                  label: 分类
                  value: ""

        - $formkit: group
          name: tags
          id: tags
          key: tags
          label: 标签模块
          children:
            - $formkit: checkbox
              name: tags_enabled
              id: tags_enabled
              key: tags_enabled
              label: 启用标签模块
              value: false
            - $formkit: group
              name: tags_items
              id: tags_items
              key: tags_items
              if: "$value.tags_enabled === true"
              label: 标签模块设置
              children:
                - $formkit: text
                  name: tags_title
                  id: tags_title
                  key: tags_title
                  label: 标题
                - $formkit: text
                  name: tags_subtitle
                  id: tags_subtitle
                  key: tags_subtitle
                  label: 副标题
                - $formkit: tagSelect
                  name: tags_list
                  id: tags_list
                  key: tags_list
                  multiple: true
                  sortable: true
                  label: 标签
                  value: ""
        - $formkit: group
          name: subscribe
          id: subscribe
          key: subscribe
          label: 订阅模块
          help: 依赖前置插件“文章订阅”，https://www.halo.run/store/apps/app-yldNX
          children:
            - $formkit: checkbox
              name: subscribe_enabled
              id: subscribe_enabled
              key: subscribe_enabled
              label: 启用订阅模块
              value: false
            - $formkit: group
              name: subscribe_items
              id: subscribe_items
              key: subscribe_items
              if: "$value.subscribe_enabled === true"
              label: 订阅模块设置
              children:
                - $formkit: text
                  name: subscribe_title
                  id: subscribe_title
                  key: subscribe_title
                  label: 标题
                - $formkit: text
                  name: subscribe_subtitle
                  id: subscribe_subtitle
                  key: subscribe_subtitle
                  label: 副标题
                - $formkit: checkbox
                  name: slogan_enabled
                  id: slogan_enabled
                  key: slogan_enabled
                  label: 启用口号
                  value: false
                - $formkit: repeater
                  if: "$value.slogan_enabled === true"
                  name: subscribe_slogan
                  id: subscribe_slogan
                  key: subscribe_slogan
                  label: 口号
                  value: []
                  max: 2
                  min: 1
                  help: 图标链接：https://fontawesome.com/search?s=solid&ic=free&o=r
                  children:
                    - $formkit: text
                      name: icon
                      id: icon
                      key: icon
                      label: 图标
                      value: ""
                    - $formkit: text
                      name: title
                      id: title
                      key: title
                      label: 标题
                      value: ""
                    - $formkit: text
                      name: subtitle
                      id: subtitle
                      key: subtitle
                      label: 简介
                      value: ""
    - group: index_footer
      label: 页脚模块
      formSchema:
        - $formkit: group
          name: footer_social
          id: footer_social
          key: footer_social
          label: 社交模块
          children:
            - $formkit: checkbox
              name: social_enabled
              id: social_enabled
              key: social_enabled
              label: 启用社交模块
              value: false
            - $formkit: repeater
              name: footer_social_items
              id: footer_social_items
              key: footer_social_items
              if: "$value.social_enabled === true"
              label: 社交链接
              value: []
              children:
                - $formkit: select
                  name: icon
                  id: icon
                  key: icon
                  label: 图标
                  placeholder: 请选择图标
                  options:
                    - label: Mail
                      value: s-i-mail
                    - label: Facebook
                      value: s-i-facebook
                    - label: X
                      value: s-i-X
                    - label: Instagram
                      value: s-i-instagram
                    - label: YouTube
                      value: s-i-youtube
                    - label: GitHub
                      value: s-i-github
                    - label: Steam
                      value: s-i-steam
                    - label: LinkedIn
                      value: s-i-linkedin
                    - label: Pinterest
                      value: s-i-pinterest
                    - label: Reddit
                      value: s-i-reddit
                    - label: TikTok
                      value: s-i-tiktok
                    - label: CSDN
                      value: s-i-csdn
                    - label: Telegram
                      value: s-i-telegram
                    - label: 微博
                      value: s-i-weibo
                    - label: B站
                      value: s-i-bilibili
                    - label: 豆瓣
                      value: s-i-douban
                    - label: RSS
                      value: s-i-rss
                - $formkit: text
                  name: name
                  id: name
                  key: name
                  label: 名称
                - $formkit: text
                  name: url
                  id: url
                  key: url
                  label: 链接
                  validation: "required"
        - $formkit: group
          name: footer_other
          id: footer_other
          key: footer_other
          label: 其它类别
          children:
            - $formkit: checkbox
              name: other_enabled
              id: other_enabled
              key: other_enabled
              label: 开启建站与主题信息？
              value: true
            - $formkit: checkbox
              name: beian_enabled
              id: beian_enabled
              key: beian_enabled
              label: 开启备案信息？
              value: false
            - $formkit: group
              name: beian_items
              id: beian_items
              key: beian_items
              if: "$value.beian_enabled === true"
              label: 备案信息设置
              children:
                - $formkit: text
                  name: icp
                  id: icp
                  key: icp
                  label: ICP备案
                - $formkit: text
                  name: gongan
                  id: gongan
                  key: gongan
                  label: 公安备案
    - group: donate
      label: 赞赏设置
      formSchema:
        - $formkit: checkbox
          name: p_enabled
          id: p_enabled
          key: p_enabled
          label: 显示赞赏栏
          value: false
          help: 此选项仅在文章或单独页面显示
        - $formkit: group
          name: info_zz
          id: info_zz
          key: info_zz
          label: 赞赏设置
          if: $get(p_enabled).value === true
          children:
            - $formkit: group
              name: p_aside
              id: p_aside
              key: p_aside
              label: 侧边栏
              children:
                - $formkit: text
                  name: a_title
                  id: a_title
                  key: a_title
                  label: 标题
                - $formkit: text
                  name: a_subtitle
                  id: a_subtitle
                  key: a_title
                  label: 简介
            - $formkit: group
              name: p_items
              id: p_items
              key: p_items
              label: 模态框
              children:
                - $formkit: text
                  name: p_title
                  id: p_title
                  key: p_title
                  label: 标题
                - $formkit: text
                  name: p_subtitle
                  id: p_subtitle
                  key: p_title
                  label: 简介
            - $formkit: repeater
              name: donate_items
              id: donate_items
              key: donate_items
              label: 赞赏码列表
              value: [ ]
              children:
                - $formkit: text
                  name: type
                  id: type
                  key: type
                  label: 类型
                - $formkit: attachment
                  accepts:
                    - 'image/*'
                  name: qrcode
                  id: qrcode
                  key: qrcode
                  label: 二维码图片
    - group: resume
      label: AboutME
      formSchema:
        - $formkit: group
          name: read
          help: 注意！本模块需在页面选取模版后才能生效
          children:
            - $formkit: checkbox
              name: r_enabled
              id: r_enabled
              key: r_enabled
              label: 我已知晓注意事项
        - $formkit: group
          name: hero
          id: hero
          key: hero
          if: $get(r_enabled).value === true
          label: 个人信息
          children:
            - $formkit: attachment
              accepts:
                - 'image/*'
              name: h_logo
              id: h_logo
              key: h_logo
              label: Logo
              value: ''
            - $formkit: text
              name: h_name
              id: h_name
              key: h_name
              label: 姓名
            - $formkit: text
              name: h_post
              id: h_post
              key: h_post
              label: 职称
            - $formkit: text
              name: h_sub
              id: h_sub
              key: h_sub
              label: 简介
            - $formkit: checkbox
              name: h_selt
              id: h_selt
              key: h_selt
              label: 显示快捷按钮
              value: false  
        - $formkit: group
          name: github
          id: github
          key: github
          if: $get(r_enabled).value === true
          label: 图表统计
          children:
            - $formkit: checkbox
              name: github_enabled
              id: github_enabled
              key: github_enabled
              label: 启用图表统计
              value: false
            - $formkit: group
              name: github_title
              id: github_title
              key: github_title
              if: "$value.github_enabled === true"
              children:
                - $formkit: text
                  name: g_title
                  id: g_title
                  key: g_title
                  label: 分隔标题
            - $formkit: group
              name: github_graph
              id: github_graph
              key: github_graph
              if: "$value.github_enabled === true"
              children:
                - $formkit: text
                  name: g_graph
                  id: g_graph
                  key: g_graph
                  label: 热力图
                - $formkit: text
                  name: g_title
                  id: g_title
                  key: g_title
                  label: 类型
            - $formkit: repeater
              name: github_list
              id: github_list
              key: github_list
              if: "$value.github_enabled === true"
              value: []
              max: 3
              label: 新增图表
              children:
                - $formkit: text
                  name: l_url
                  id: l_url
                  key: l_url
                  label: 请输入URL地址
                - $formkit: text
                  name: l_title
                  id: l_title
                  key: l_title
                  label: 类型
        - $formkit: group
          name: work
          id: work
          key: work
          if: $get(r_enabled).value === true
          label: 工作模块
          children:
            - $formkit: checkbox
              name: work_enabled
              id: work_enabled
              key: work_enabled
              label: 启用工作模块
              value: false
            - $formkit: group
              name: work_title
              id: work_title
              key: gwork_title
              if: "$value.work_enabled === true"
              children:
                - $formkit: text
                  name: w_title
                  id: w_title
                  key: w_title
                  label: 分隔标题
            - $formkit: repeater
              name: work_items
              id: work_items
              key: work_items
              if: "$value.work_enabled === true"
              label: 新增列表
              value: []
              children:
                - $formkit: text
                  name: w_title
                  id: w_title
                  key: w_title
                  label: 职位
                - $formkit: text
                  name: w_company
                  id: w_company
                  key: w_company
                  label: 公司
                - $formkit: text
                  name: w_period
                  id: w_period
                  key: w_period
                  label: 时间
                - $formkit: text
                  name: w_description
                  id: w_description
                  key: w_description
                  label: 描述
                  height: 200px
        - $formkit: group
          name: projects
          id: projects
          key: projects
          if: $get(r_enabled).value === true
          label: 项目模块
          children:
            - $formkit: checkbox
              name: projects_enabled
              id: projects_enabled
              key: projects_enabled
              label: 启用项目模块
              value: false
            - $formkit: group
              name: projects_title
              id: projects_title
              key: projects_title
              if: "$value.projects_enabled === true"
              children:
                - $formkit: text
                  name: p_title
                  id: p_title
                  key: p_title
                  label: 分隔标题
            - $formkit: repeater
              name: projects_items
              id: projects_items
              key: projects_items
              if: "$value.projects_enabled === true"
              label: 项目列表
              value: []
              children:
                - $formkit: text
                  name: p_title
                  id: p_title
                  key: p_title
                  label: 项目名称
                - $formkit: text
                  name: p_description
                  id: p_description
                  key: p_description
                  label: 项目描述
                - $formkit: text
                  if: "$value.p_enabled === true"
                  name: p_url
                  id: p_url
                  key: p_url
                  label: 外部链接
                - $formkit: code
                  name: p_icon
                  id: p_icon
                  key: p_icon
                  language: html
                  height: 100px
                  label: SVG图标
                - $formkit: select
                  name: p_enabled
                  id: p_enabled
                  key: p_enabled
                  label: 启用外部链接
                  placeholder: 请确认选择
                  value: ''
                  options:
                    - label: 是
                      value: true
                    - label: 否
                      value: false
        - $formkit: group
          name: skills
          id: skills
          key: skills
          if: $get(r_enabled).value === true
          label: 技能模块
          children:
            - $formkit: checkbox
              name: skills_enabled
              id: skills_enabled
              key: skills_enabled
              label: 启用技能模块
              value: false
            - $formkit: group
              name: skills_title
              id: skills_title
              key: skills_title
              if: "$value.skills_enabled === true"
              children:
                - $formkit: text
                  name: s_title
                  id: s_title
                  key: s_title
                  label: 分隔标题
            - $formkit: repeater
              name: skills_items
              id: skills_items
              key: skills_items
              if: "$value.skills_enabled === true"
              label: 技能列表
              value: []
              children:
                - $formkit: code
                  name: s_icon
                  id: s_icon
                  key: s_icon
                  language: html
                  height: 100px
                  label: SVG图标
                - $formkit: text
                  name: s_title
                  id: s_title
                  key: s_title
                  label: 技能分类
                - $formkit: text
                  name: s_description
                  id: s_description
                  key: s_description
                  label: 技能描述
                - $formkit: color
                  name: s_color
                  id: s_color
                  key: s_color
                  label: 背景颜色
        - $formkit: group
          name: contact
          id: contact
          key: contact
          if: $get(r_enabled).value === true
          label: 联系模块
          children:
            - $formkit: checkbox
              name: contact_enabled
              id: contact_enabled
              key: contact_enabled
              label: 启用联系方式
              value: false
            - $formkit: group
              name: contact_title
              id: contact_title
              key: contact_title
              if: "$value.contact_enabled === true"
              children:
                - $formkit: text
                  name: s_title
                  id: s_title
                  key: s_title
                  label: 分隔标题
            - $formkit: group
              name: contact_items
              id: contact_items
              key: contact_items
              if: "$value.contact_enabled === true"
              children:
                - $formkit: text
                  name: contact_title
                  id: contact_title
                  key: contact_title
                  label: 标题
                - $formkit: text
                  name: contact_subtitle
                  id: contact_subtitle
                  key: contact_subtitle
                  label: 副标题
            - $formkit: repeater
              name: contact_list
              id: contact_list
              key: contact_list
              if: "$value.contact_enabled === true"
              label: 联系列表
              value: []
              children:
                - $formkit: select
                  name: c_icon
                  id: c_icon
                  key: c_icon
                  label: 图标
                  placeholder: 请选择图标
                  options:
                    - label: Mail
                      value: s-i-mail
                    - label: Facebook
                      value: s-i-facebook
                    - label: X
                      value: s-i-X
                    - label: GitHub
                      value: s-i-github
                    - label: LinkedIn
                      value: s-i-linkedin
                    - label: Telegram
                      value: s-i-telegram
                    - label: 微博
                      value: s-i-weibo
                - $formkit: text
                  name: c_type
                  id: c_type
                  key: c_type
                  label: 类型
                - $formkit: text
                  name: c_url
                  id: c_url
                  key: c_url
                  label: 链接
                - $formkit: text
                  name: c_value
                  id: c_value
                  key: c_value
                  label: 用户名
                  help: 邮箱请写完整链接