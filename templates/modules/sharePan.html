<th:block
  th:fragment="sharePan"
  th:if="${theme.config.index_info.share_setting.share_enabled}"
>
  <div class="mt-8 rounded-lg border border-gray-200 bg-gray-400/5 p-6 backdrop-blur-sm dark:border-gray-600 dark:bg-white/5 transition-colors duration-300">
    <div class="mb-4 flex items-center gap-1 text-lg font-semibold text-gray-900 dark:text-white">
      <i class="fa-solid fa-download text-blue-600 dark:text-white"></i>
      <span th:text="${theme.config?.index_info?.share_setting?.share_title ?: '资源下载'}"></span>
    </div>
    <div class="grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3" th:if="${not #strings.isEmpty(#annotations.getOrDefault(post, 'shareName1', '')) or not #strings.isEmpty(#annotations.getOrDefault(post, 'shareName2', '')) or not #strings.isEmpty(#annotations.getOrDefault(post, 'shareName3', ''))}">
      <th:block th:if="${not #strings.isEmpty(#annotations.getOrDefault(post, 'shareName1', ''))}">
        <a
          th:href="${#annotations.getOrDefault(post, 'shareUrl1', '')}"
          target="_blank"
          class="flex items-center space-x-3 rounded-lg border border-gray-200 bg-white/50 p-4 dark:border-gray-600 dark:bg-white/5 transition-colors duration-300"
        >
          <div class="flex h-10 w-10 overflow-hidden rounded-lg bg-white items-center justify-center" th:utext="${#annotations.getOrDefault(post, 'shareSvg1', '')}"></div>
          <div class="flex-1">
            <p class="text-sm font-medium text-gray-900 dark:text-white" th:text="${#annotations.getOrDefault(post, 'shareName1', '')}"></p>
            <p class="text-xs text-gray-500 dark:text-gray-400" th:text="${#annotations.getOrDefault(post, 'sharePwd1', '')}"></p>
          </div>
          <svg class="h-4 w-4 text-gray-400 dark:text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
          </svg>
        </a>
      </th:block>
      <th:block th:if="${not #strings.isEmpty(#annotations.getOrDefault(post, 'shareName2', ''))}">
        <a
          th:href="${#annotations.getOrDefault(post, 'shareUrl2', '')}"
          target="_blank"
          class="flex items-center space-x-3 rounded-lg border border-gray-200 bg-white/50 p-4 dark:border-gray-600 dark:bg-white/5 transition-colors duration-300"
        >
          <div class="flex h-10 w-10 overflow-hidden rounded-lg bg-white items-center justify-center" th:utext="${#annotations.getOrDefault(post, 'shareSvg2', '')}"></div>
          <div class="flex-1">
            <p class="text-sm font-medium text-gray-900 dark:text-white" th:text="${#annotations.getOrDefault(post, 'shareName2', '')}"></p>
            <p class="text-xs text-gray-500 dark:text-gray-400" th:text="${#annotations.getOrDefault(post, 'sharePwd2', '')}"></p>
          </div>
          <svg class="h-4 w-4 text-gray-400 dark:text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
          </svg>
        </a>
      </th:block>
      <th:block th:if="${not #strings.isEmpty(#annotations.getOrDefault(post, 'shareName3', ''))}">
        <a
          th:href="${#annotations.getOrDefault(post, 'shareUrl3', '')}"
          target="_blank"
          class="flex items-center space-x-3 rounded-lg border border-gray-200 bg-white/50 p-4 dark:border-gray-600 dark:bg-white/5 transition-colors duration-300"
        >
          <div class="flex h-10 w-10 overflow-hidden rounded-lg bg-white items-center justify-center" th:utext="${#annotations.getOrDefault(post, 'shareSvg3', '')}"></div>
          <div class="flex-1">
            <p class="text-sm font-medium text-gray-900 dark:text-white" th:text="${#annotations.getOrDefault(post, 'shareName3', '')}"></p>
            <p class="text-xs text-gray-500 dark:text-gray-400" th:text="${#annotations.getOrDefault(post, 'sharePwd3', '')}"></p>
          </div>
          <svg class="h-4 w-4 text-gray-400 dark:text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
          </svg>
        </a>
      </th:block>
    </div>
    <div class="mt-4 rounded-lg bg-gray-100/50 p-3 dark:bg-white/5">
      <p class="flex items-center text-xs text-gray-600 dark:text-gray-400">
        <svg class="mr-1 h-3 w-3 shrink-0 text-blue-600 dark:text-white" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"></path>
        </svg>
        <span th:text="${theme.config?.index_info?.share_setting?.share_subtitle ?: '提示：如遇链接失效，请在评论区留言反馈'}"></span>
      </p>
    </div>
  </div>
</th:block>