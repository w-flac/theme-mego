<!doctype html>
<html th:replace="~{modules/layout :: html(title = ${site.title}, head = null,content = ~{::content})}" xmlns:th="https://www.thymeleaf.org">
  <th:block th:fragment="content">
    <th:block th:replace="~{modules/header}" />
    <!-- Hero Module -->
    <section class="relative top-0 left-0 z-0 h-screen" th:if="${theme.config.index_hero.hero_enabled == true}">
      <div
        class="fixed h-screen min-h-screen w-full scale-100 transform bg-cover bg-center bg-no-repeat will-change-transform"
        id="bg"
        th:style="|background-image: url('${theme.config.index_hero.hero_image.image ?: #theme.assets('/images/hello_mego.webp')}')|"
      >
        <div class="animate-bouncy fixed bottom-16 left-1/2 ml-[-20px] h-10 w-10 opacity-100 lg:bottom-0">
          <svg height="25" width="50">
            <polygon fill="rgba(255,255,255,.5)" points="0,0 25,10 50,0 25,25" stroke="rgba(255,255,255,.3)" stroke-width="0" />
          </svg>
        </div>
        <div class="flex h-full w-full items-center justify-center">
          <div
            class="z-30 flex h-[60rem] w-full items-center bg-gray-200/10 p-4 text-center transition-colors duration-200 will-change-transform sm:h-fit sm:p-8 sm:backdrop-blur md:p-16 dark:bg-black/40 dark:sm:bg-black/30"
            id="text"
            style="transform: translateY(var(--parallax-y, 0))"
          >
            <th:block th:with="heroTitle_subtitle = ${theme.config.index_hero.hero_title.subtitle_enabled}">
              <div class="mx-auto text-center sm:px-6 lg:px-8" th:classappend="${heroTitle_subtitle == 'long' ? 'max-w-7xl' : 'max-w-4xl'}">
                <div class="space-y-6 lg:space-y-10">
                  <div class="space-y-2">
                    <div
                      class="animate-float title_label inline-flex w-fit items-center rounded-full border border-white/40 bg-gradient-to-r from-amber-200/20 to-red-500/30 px-6 py-3 shadow-lg backdrop-blur-md dark:from-blue-500/20 dark:to-purple-500/20"
                    >
                      <div class="mr-2 h-2 w-2 animate-pulse rounded-full bg-gradient-to-r from-white to-orange-500 dark:from-blue-400 dark:to-purple-400"></div>
                      <p class="text-sm font-semibold text-gray-100" th:text="|${theme.config.index_hero.hero_title.label}| ?: |#{common.hero.label}|"></p>
                    </div>
                    <h1
                      class="title_text leading-tight font-bold text-white drop-shadow-lg transition-colors duration-300 dark:text-white/90"
                      th:classappend="${heroTitle_subtitle == 'long' ? 'text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl' : 'text-3xl sm:text-5xl xl:text-6xl'}"
                    >
                      <span th:text="|${theme.config.index_hero.hero_title.title}| ?: |#{common.hero.title}|"></span>
                      <th:block th:if="${theme.config.index_hero.hero_title.enabled ?: true}">
                        <span
                          th:text="|${theme.config.index_hero.hero_title.subtitle}| ?: |#{common.hero.subtitle}|"
                          class="from-soft-coral to-coral-red bg-gradient-to-r bg-clip-text text-transparent dark:from-blue-300 dark:to-purple-300"
                        ></span>
                      </th:block>
                    </h1>
                    <div
                      th:classappend="${heroTitle_subtitle == 'long' ? 'max-w-3xl' : 'max-w-2xl'}"
                      class="title_description mx-auto px-4 text-justify text-base leading-relaxed text-gray-100 drop-shadow-md sm:px-6 sm:text-xl lg:text-center dark:text-gray-100"
                    >
                      <p th:text="|${theme.config.index_hero.hero_title.description}| ?: |#{common.hero.description}|"></p>
                    </div>
                  </div>
                  <div class="space-y-6" th:if="${theme.config.index_hero.hero_urls.hero_urls_enabled == 'open' || theme.config.index_hero.hero_signs.hero_signs_enabled == true}">
                    <div class="z-40 flex flex-row justify-center gap-3 sm:gap-6 md:gap-8" th:if="${theme.config.index_hero.hero_urls.hero_urls_enabled == 'open'}">
                      <a
                        class="title_buttons group transition-duration relative inline-flex w-auto transform items-center justify-center overflow-hidden rounded-xl bg-gradient-to-br from-blue-600 via-blue-500 to-purple-600 px-6 py-3 text-center text-sm font-bold text-white shadow-lg duration-300 hover:-translate-y-1 hover:scale-105 hover:from-blue-500 hover:via-purple-500 hover:to-blue-600 hover:shadow-blue-500/25 sm:rounded-2xl sm:text-base sm:shadow-2xl sm:hover:-translate-y-2 md:text-lg"
                        th:href="${theme.config.index_hero.hero_urls.hero_urls_items.url1}"
                      >
                        <div class="relative z-10 flex items-center sm:px-4 sm:py-2">
                          <svg class="mr-1 h-4 w-4 transition-transform group-hover:rotate-12 sm:mr-2 sm:h-5 sm:w-5" stroke="currentColor" viewBox="0 0 24 24">
                            <path d="M13 7l5 5m0 0l-5 5m5-5H6" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
                          </svg>
                          <span th:text="${theme.config.index_hero.hero_urls.hero_urls_items.title1}"></span>
                        </div>
                        <div
                          class="absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-white/20 opacity-0 transition-opacity duration-500 group-hover:opacity-100"
                        ></div>
                        <div
                          class="absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/30 to-transparent transition-transform duration-700 group-hover:translate-x-full"
                        ></div>
                        <div
                          class="absolute -inset-1 rounded-2xl bg-gradient-to-r from-blue-400 to-purple-400 opacity-0 blur transition-opacity duration-500 group-hover:opacity-75"
                        ></div>
                      </a>
                      <a
                        class="title_buttons group transition-duration relative inline-flex w-auto transform items-center justify-center overflow-hidden rounded-xl bg-white/10 px-6 py-3 text-center text-sm font-bold text-white shadow-lg backdrop-blur-md duration-300 hover:-translate-y-1 hover:scale-105 hover:bg-white/20 hover:shadow-white/5 sm:rounded-2xl sm:text-base sm:shadow-xl sm:hover:-translate-y-2 md:text-lg"
                        th:href="${theme.config.index_hero.hero_urls.hero_urls_items.url2}"
                      >
                        <div class="relative z-10 flex items-center sm:px-4 sm:py-2">
                          <svg class="mr-1 h-4 w-4 transition-transform duration-300 group-hover:rotate-12 sm:mr-2 sm:h-5 sm:w-5" stroke="currentColor" viewBox="0 0 24 24">
                            <path
                              d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                            ></path>
                          </svg>
                          <span th:text="${theme.config.index_hero.hero_urls.hero_urls_items.title2}"></span>
                        </div>
                        <div
                          class="absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-white/10 opacity-0 transition-opacity duration-500 group-hover:opacity-100"
                        ></div>
                        <div
                          class="absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/20 to-transparent transition-transform duration-700 group-hover:translate-x-full"
                        ></div>
                        <div
                          class="absolute -inset-1 rounded-2xl bg-gradient-to-r from-white/20 to-white/10 opacity-0 blur transition-opacity duration-500 group-hover:opacity-50"
                        ></div>
                      </a>
                    </div>
                    <div class="flex items-center justify-center space-x-8 text-sm text-white/70" th:if="${theme.config.index_hero.hero_signs.hero_signs_enabled == true}">
                      <div class="title_signs flex items-center" th:each="hero_signs_item : ${theme.config.index_hero.hero_signs.hero_signs_items.hero_signs_items}">
                        <svg class="mr-1 h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                          <path
                            clip-rule="evenodd"
                            d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                            fill-rule="evenodd"
                          ></path>
                        </svg>
                        <span th:text="${hero_signs_item.text}"></span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </th:block>
          </div>
        </div>
      </div>
      <div class="pointer-events-none fixed z-10 h-screen min-h-screen w-full bg-black/80 opacity-0 will-change-[opacity]" id="shade"></div>
    </section>
    <!-- Index Module -->
    <section class="relative z-10 w-full bg-gray-100 px-2 pt-12 transition-colors duration-200 sm:px-8 md:px-12 dark:bg-gray-900">
      <!-- Site Statistics   -->
      <div
        class="mx-auto max-w-7xl p-2 md:py-24 lg:px-8"
        th:if="${theme.config.index_intro.intro.intro_enabled == true or theme.config.index_intro.website.website_enabled == true}"
        th:classappend="${theme.config.index_hero.hero_enabled == false} ? 'pt-18' : ''"
      >
        <div class="mx-auto max-w-2xl lg:max-w-none">
          <div class="text-center" th:if="${theme.config.index_intro.intro.intro_enabled == true}">
            <h2 class="text-4xl font-semibold text-balance text-gray-900 sm:text-5xl dark:text-white/70" th:text="${theme.config.index_intro.intro.content_items.title}"></h2>
            <p class="mt-8 text-justify text-lg/8 text-gray-600 xl:text-center dark:text-gray-300" th:text="${theme.config.index_intro.intro.content_items.subtitle}"></p>
          </div>
          <div
            class="mt-8 grid grid-cols-2 gap-0.5 overflow-hidden rounded-2xl text-center sm:mt-16 lg:grid-cols-4"
            th:if="${theme.config.index_intro.website.website_enabled == true}"
            th:with="stats = ${siteStatsFinder.getStats()}"
          >
            <div class="flex flex-col items-center justify-center bg-gray-400/5 p-8 dark:bg-white/5" th:each="stat_item : ${theme.config.index_intro.website.type}">
              <div class="text-sm/6 font-semibold text-gray-600 dark:text-gray-300" th:switch="${stat_item.type_items}">
                <span th:case="'visit'" th:text="#{widget.profile.visitCount.label}"></span>
                <span th:case="'upvote'" th:text="#{widget.profile.upvote.label}"></span>
                <span th:case="'comment'" th:text="#{widget.profile.commentCount.label}"></span>
                <span th:case="'post'" th:text="#{widget.profile.postCount.label}"></span>
                <span th:case="'category'" th:text="#{widget.profile.categoryCount.label}"></span>
                <span th:case="*" th:text="|${stat_item.subtitle}| ?: |#{widget.profile.otherCount.label}|"></span>
              </div>
              <p class="order-first text-3xl font-semibold tracking-tight text-gray-900 dark:text-white" th:switch="${stat_item.type_items}">
                <span th:attr="data-target=${stats.visit}, data-use-commas=true" th:case="'visit'"></span>
                <span th:attr="data-target=${stats.upvote}, data-use-commas=true" th:case="'upvote'"></span>
                <span th:attr="data-target=${stats.comment}, data-use-commas=true" th:case="'comment'"></span>
                <span th:attr="data-target=${stats.post}, data-use-commas=true" th:case="'post'"></span>
                <span th:attr="data-target=${stats.category}, data-use-commas=true" th:case="'category'"></span>
                <span th:attr="data-target=${stat_item.num ?: '0'}, data-use-commas=true" th:case="'commas'"></span>
                <span th:attr="data-target=${stat_item.num ?: '0'}, data-use-percentage=true" th:case="'percentage'"></span>
                <span th:attr="data-target=${stat_item.num ?: '0'}" th:case="*"></span>
              </p>
            </div>
          </div>
        </div>
      </div>
      <!--  Blog Post   -->
      <section class="pt-12 pb-4 sm:py-24 sm:pb-0">
        <div class="mx-auto max-w-7xl">
          <div class="mb-12 text-center">
            <h2
              class="mb-4 text-4xl font-semibold tracking-tight text-balance text-gray-900 sm:text-5xl dark:text-white"
              th:text="|${theme.config.index_blog.blog.blog_title}| ?: |#{widget.index.module.newPosts.title}|"
            ></h2>
            <p class="mt-2 text-lg/8 text-gray-600 dark:text-gray-400" th:text="|${theme.config.index_blog.blog.blog_subtitle}| ?: |#{widget.index.module.newPosts.subtitle}|"></p>
          </div>
          <ul class="grid grid-cols-1 gap-4 sm:gap-8 md:px-8" th:classappend="${theme.config.index_blog.blog.blog_enabled == 'one' ? 'lg:grid-cols-1' : 'lg:grid-cols-2'}">
            <th:block th:replace="~{modules/module :: postBlog(posts = ${posts.items}, displayType = 'allCategories')}"></th:block>
          </ul>
          <th:block th:if="${posts.hasNext()}">
            <div class="mt-8 text-center" id="load-more-container"></div>
          </th:block>
        </div>
      </section>
    </section>
    <!-- other Module -->
    <section class="absolute z-10 w-full bg-gray-100 px-2 pt-12 transition-colors duration-200 sm:px-8 md:px-12 dark:bg-gray-900">
      <!-- Categories -->
      <div class="mx-auto max-w-7xl px-4 sm:py-24 md:px-8" th:if="${theme.config.index_other.category.category_enabled == true}">
        <div class="mb-12 text-center">
          <h2
            class="mb-4 text-4xl font-semibold tracking-tight text-gray-900 sm:text-5xl dark:text-white"
            th:text="|${theme.config.index_other.category.category_items.category_title}| ?: |#{widget.index.module.category.title}|"
          ></h2>
          <p
            th:text="|${theme.config.index_other.category.category_items.category_subtitle}| ?: |#{widget.index.module.category.subtitle}|"
            class="mt-2 text-lg/8 text-gray-600 dark:text-gray-400"
          ></p>
        </div>
        <ul class="grid grid-cols-3 gap-4 pb-12 xl:flex xl:flex-wrap xl:justify-center">
          <li
            class="overflow-hidden rounded-2xl border border-gray-100 shadow-lg hover:border-gray-100/60 xl:h-24 xl:w-36 dark:border-white/20"
            th:each="category : ${categoryFinder.getByNames(theme.config.index_other.category.category_items.category_list)}"
          >
            <div class="relative flex h-full flex-col items-center justify-center p-4" th:classappend="${#annotations.getOrDefault(category, 'color', 'gradient-bg-9')}">
              <div class="absolute inset-0 bg-black opacity-30"></div>
              <a class="flex flex-col items-center" th:href="@{${category.status.permalink}}">
                <i class="relative z-10 mb-2 text-3xl text-white" th:classappend="${#annotations.getOrDefault(category, 'font', 'fas fa-file')}"></i>
                <h3 class="relative z-10 text-center text-sm font-bold text-white" th:text="${category.spec.displayName}"></h3>
                <div class="border-opacity-40 absolute top-2 right-2 h-3 w-3 rounded-full border border-transparent bg-gray-100 dark:bg-gray-900"></div>
              </a>
            </div>
          </li>
        </ul>
      </div>
      <!--  tags  -->
      <div class="mx-auto max-w-7xl px-0 py-12 sm:py-24 md:px-8" th:if="${theme.config.index_other.tags.tags_enabled == true}">
        <div class="mb-12 text-center">
          <h2
            th:text="|${theme.config.index_other.tags.tags_items.tags_title}| ?: |#{widget.index.module.tag.title}|"
            class="mb-4 text-4xl font-semibold tracking-tight text-balance text-gray-900 sm:text-5xl dark:text-white"
          ></h2>
          <p
            class="mt-2 text-lg/8 text-gray-600 dark:text-gray-400"
            th:text="|${theme.config.index_other.tags.tags_items.tags_subtitle}| ?: |#{widget.index.module.tag.subtitle}|"
          ></p>
        </div>
        <div class="mb-8 rounded-2xl bg-gray-400/5 p-4 sm:px-10 sm:py-12 dark:bg-white/5">
          <div class="tag-container overflow-hidden">
            <li
              class="mr-4 inline-block flex-shrink-0 cursor-pointer rounded-2xl bg-[var(--tw-bg-color)] px-4 py-2 font-medium"
              th:each="tags : ${tagFinder.getByNames(theme.config.index_other.tags.tags_items.tags_list)}"
              th:style="'--tw-bg-color:' + ${tags.spec.color} + 'B3'"
            >
              <a class="text-sm font-bold text-white" th:href="@{${tags.status.permalink}}" th:text="|${tags.spec.displayName}|"></a>
            </li>
          </div>
        </div>
      </div>
      <div class="rounded-3xl bg-gray-400/5 py-16 sm:py-24 lg:py-32 dark:bg-white/5" th:if="${theme.config.index_other.subscribe.subscribe_enabled}">
        <div class="mx-auto max-w-7xl px-6 lg:px-8">
          <div
            class="mx-auto grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 text-center lg:max-w-none"
            th:classappend="${theme.config.index_other.subscribe.subscribe_items.slogan_enabled} ? ' lg:grid-cols-2' : ''"
          >
            <div class="mx-auto max-w-xl space-y-2 text-left lg:max-w-lg">
              <h2
                class="text-center text-4xl font-semibold tracking-tight text-gray-900 dark:text-white"
                th:text="|${theme.config.index_other.subscribe.subscribe_items.subscribe_title}| ?: |#{widget.index.module.subscribe.title}|"
              ></h2>
              <p
                class="line-clamp-3 text-lg text-gray-600 dark:text-gray-300"
                th:text="|${theme.config.index_other.subscribe.subscribe_items.subscribe_subtitle}|?:|#{widget.index.module.subscribe.subtitle}|"
              ></p>
              <follow-card show-title="false"></follow-card>
            </div>
            <ul
              class="hidden grid-cols-1 items-center gap-x-4 gap-y-10 text-left sm:grid-cols-2 lg:grid"
              th:if="${theme.config.index_other.subscribe.subscribe_items.slogan_enabled == true}"
            >
              <li
                class="flex flex-col items-start"
                th:each="subscribe_slogan : ${theme.config.index_other.subscribe.subscribe_items.subscribe_slogan}"
                th:if="${theme.config.index_other.subscribe.subscribe_items.subscribe_slogan}"
              >
                <div class="rounded-md bg-white/50 p-2 ring-1 ring-gray-200 dark:bg-white/5 dark:ring-white/10" th:unless="${#strings.isEmpty(subscribe_slogan.icon)}">
                  <i class="text-gray-600 dark:text-white" th:classappend="${subscribe_slogan.icon}"></i>
                </div>
                <span class="mt-4 text-base font-semibold text-gray-900 dark:text-white" th:text="${subscribe_slogan.title}"></span>
                <p
                  class="mt-2 line-clamp-3 text-base/7 leading-relaxed break-words text-gray-600 dark:text-gray-400"
                  th:text="${subscribe_slogan.subtitle}"
                  style="hyphens: auto"
                ></p>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <th:block th:replace="~{modules/footer}" />
    </section>
    <script th:inline="javascript">
      window.i18nPlaceholder = /*[[#{widget.index.module.subscribe.placeholder}]]*/ "";
      window.i18nButtonText = /*[[#{widget.index.module.subscribe.button}]]*/ "";
    </script>
    <script>
      initFollowCard();
    </script>
  </th:block>
</html>
